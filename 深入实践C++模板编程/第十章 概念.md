# 概念

前面我们介绍了模板的基本用法，这里我们将讨论模板的一些不足。

模板的参数列表中使用`typename`限定参数是一个类型，但没有约束是什么样的类型，因此用户可以传入任意类型，但是某些算法或类会对操作的类型有某些约束，因此用户需要遵循这些约束。当用户向此类模板函数或模板类传递了不符合约束的类型之后，编译器在编译的时候将会报错。这些错误将会是隐晦的。

例如我们编写了下面的函数模板用于比较两个数的大小

```c++
template <typename T>
bool func(T a, T b) {
    return a > b;
}
```

此函数模板约束模板参数类型`T`须是可以比较的，即重载了比较运算符。

```c++
class A {
  ...
  bool oprtator>(const A& a);
  ...
};
```

当我们传入了不能进行比较的类型的时候，编译器不会第一时间报错，因此传入的类型可以是任意的类型，但是当两个变量进行比较的时候，编译器将会报错，这时错误的输出可能不能明确地指出错误的直接原因。

为了解决这个问题，C++提出了概念(concept)来解决这个问题。

### 1. 概念

概念将模板对其参数的要求从原本语法外的约定变为正式的语法描述，从而使编译器能够知晓其要求，并可以在第一时间检查赋予模板参数的类型是否符合要求。一旦发现不符合概念，编译器可立即报错并明确指出错误所在，而不用等到最后一刻无法编译的时候才进行报错。

由于概念在C++20才被加到标准中，因此这里我们不对其具体的语法进行探讨，只需要了解其作用即可，等到编译器对C++20的支持到达一定的程度的时候，再来探讨具体的语法。